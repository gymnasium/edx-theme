<%! from django.utils.translation import ugettext as _ %>

<%! from django.core.urlresolvers import reverse %>
<%inherit file="main.html" />
<%namespace name='static' file='static_content.html'/>

<%! from microsite_configuration import microsite %>

<%block name="pagetitle">${_("Home")}</%block>

<%
  homepage_overlay_html = microsite.get_value('homepage_overlay_html')

  show_homepage_promo_video = microsite.get_value('show_homepage_promo_video', True)
  homepage_promo_video_youtube_id = microsite.get_value('homepage_promo_video_youtube_id', "XNaiOGxWeto")

  show_partners = microsite.get_value('show_partners', True)

%>

<!--
Start of DoubleClick Floodlight Tag: Please do not remove
Activity name of this tag: Gymnasium HP
URL of the webpage where the tag is expected to be placed: http://gymnasium.aquent.com/
This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
Creation Date: 12/02/2015
-->
<script type="text/javascript">
var axel = Math.random() + "";
var a = axel * 10000000000000;
document.write('<iframe src="https://5255816.fls.doubleclick.net/activityi;src=5255816;type=count0;cat=gymna00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
</script>
<noscript>
<iframe src="https://5255816.fls.doubleclick.net/activityi;src=5255816;type=count0;cat=gymna00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>
</noscript>
<!-- End of DoubleClick Floodlight Tag: Please do not remove -->


<section class="home">
  <header>
    <div class="container">
      <div class="row">
        <div class="col-sm-12 hidden-md hidden-lg">
          <a class="gym-button" href="/courses"><b>Enroll in a Class</b></a>
        </div>
        <div class="col-md-9 col-sm-12 marketing-image-container">
          <a href="/courses"><img src="${static.url('themes/gymnasium/images/marketing-campaign/sit_and_get_fit_2.png')}" class="img-responsive sit-and-get-fit"></a>
        </div>
        <div class="col-md-3 col-sm-12">
          <hgroup class="title">
            <h1>${_("Join Gymnasium")}</h1>
            <h2 class="tk-brandon-grotesque">${_("Free courses. Practical skills. Unlimited potential.")}</h2>
            <a class="gym-button" href="/courses">Enroll in a Class</a>
          </hgroup>
        </div>
        ## Disable social buttons for non-edX sites
        % if not self.theme_enabled():
          <section class="actions">
            <div class="main-cta">
              <a href="#signup-modal" id="signup_action" class="find-courses" rel="leanModal">${_("Sign Up")}</a>
            </div>

            <div class="secondary-actions">
              <div class="social-sharing">
                <div class="sharing-message">${_("Stay up to date with all {platform_name} has to offer!").format(platform_name=settings.PLATFORM_NAME)}</div>
                <a href="https://twitter.com/edXOnline" class="share">
                  <img src="${static.url('images/social/twitter-sharing.png')}">
                </a>
                <a href="http://www.facebook.com/EdxOnline" class="share">
                  <img src="${static.url('images/social/facebook-sharing.png')}">
                </a>
                <a href="https://plus.google.com/108235383044095082735/posts" class="share">
                  <img src="${static.url('images/social/google-plus-sharing.png')}">
                </a>
              </div>
            </div>
          </section>
          % endif
      </div>

      % if show_homepage_promo_video:
        <!--
        <a href="#video-modal" class="media" rel="leanModal">
          <div class="hero">
            <div class="play-intro"></div>
          </div>
        </a>
        -->
      % endif
    </div>
  </header>

  <section class="container-fluid subsection">
    <div class="container">
      <header class="header-tab text-center">
        <h1>How Gymnasium Works</h1>
      </header>

      <section class="row how-gymnasium-works">
        <div class="col-md-4 col-sm-12 col-xs-12">
          <h2>Real World Skills</h2>
          <p>Gymnasium offers free online courses designed to teach creative professionals in-demand skills.  We know these skills are in demand based on what we hear from our clients.</p>
        </div>

        <div class="col-md-4 col-sm-12 col-xs-12">
          <h2>Expert Instruction</h2>
          <p>Our courses are all self-paced and taught by experienced practitioners with a passion for sharing practical lessons from the design trenches.</p>
        </div>

        <div class="col-md-4 col-sm-12 col-xs-12">
          <h2>Career Opportunities</h2>
          <p>Once you finish a course, you will be able to use your new skills in your current role, or use them to land a new job. <a href="http://aquent.com/find-work/" target="_blank">We can even help with that!</a></p>
        </div>
      </section>

      <div class="row">
        <section class="highlighted-courses col-md-12">

          <header class="text-center header-tab">
            <h1>Featured Courses</h1>
          </header>

          % if settings.FEATURES.get('COURSES_ARE_BROWSABLE'):
            <section class="courses row">

              <ul class="course-list col-md-12">
                %for idx, course in enumerate(courses):
                  % if course.is_newish:
                      <li class="course-list-item col-lg-3 col-md-3 col-sm-6 col-xs-12 ">
                        <%include file="course.html" args="course=course" />
                      </li>

                  %endif
                %endfor
              </ul>
              <div class="col-md-4 col-md-offset-4 col-sm-8 col-sm-offset-2 text-center">
                <a href="/courses" class="gym-button" id="view-all-courses">
                  <b>View all Courses</b>
                </a>
              </div>
            </section>
          % endif
        </section>

      </div>
    </div>
  </section>

  <section class="container-fluid">
    <div class="container" id="get-work">
      <header class="header-tab text-center">
        <h1>Find Work</h1>
      </header>
      <section class="row" >
        <div class="col-md-12 tagline">
          <h2 class="text-center">We're also a lead talent agency.</h2>
          <h2 class="text-center">Find work that best fits your skills, in your area.</h2>
        </div>

        <div class="3"><br /></div>

        <form method="get" id="find-work-search" class="col-md-8 col-md-offset-2">
          <div class="field select row" id="field-market">
            <label class="visuallyhidden" id="choose-location" for="market">Select the Nearest Location</label>
            <div class="col-md-3 col-md-offset-3">
              <select id="market" name="market" class="form-control" required="" aria-required="true">
                    <option disabled="">Select A Location:</option>
                    <option disabled="">——————</option>
                  <optgroup label="USA">
                    <option value="23">Atlanta</option>
                    <option value="60">Austin</option>
                    <option value="46">Baltimore</option>
                    <option value="102">Boise</option>
                    <option value="10" selected="">Boston</option>
                    <option value="61">Charlotte</option>
                    <option value="14">Chicago</option>
                    <option value="34">Connecticut</option>
                    <option value="22">Dallas</option>
                    <option value="27">Denver</option>
                    <option value="24">Detroit</option>
                    <option value="826">Houston</option>
                    <option value="58">Indianapolis</option>
                    <option value="13">Los Angeles</option>
                    <option value="33">Miami</option>
                    <option value="20">Minneapolis</option>
                    <option value="807">Moline</option>
                    <option value="30">New Jersey</option>
                    <option value="11">New York City</option>
                    <option value="51">Northern Virginia</option>
                    <option value="32">Ohio</option>
                    <option value="19">Orange County</option>
                    <option value="72">Orlando</option>
                    <option value="18">Philadelphia</option>
                    <option value="31">Phoenix</option>
                    <option value="41">Portland, OR</option>
                    <option value="803">Raleigh/Durham</option>
                    <option value="73">Rhode Island</option>
                    <option value="78">Richmond</option>
                    <option value="16">San Diego</option>
                    <option value="12">San Francisco</option>
                    <option value="17">Seattle</option>
                    <option value="15">Silicon Valley</option>
                    <option value="37">St. Louis</option>
                    <option value="68">Tampa</option>
                    <option value="25">Washington, DC</option>
                    <option value="881">Wisconsin</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="Canada">
                    <option value="40">Toronto</option>
                    <option value="47">Vancouver</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="France">
                    <option value="35">Paris</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="UK">
                    <option value="29">London</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="Netherlands">
                    <option value="43">Amsterdam</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="Australia">
                    <option value="36">Melbourne</option>
                    <option value="39">Sydney</option>
                  </optgroup>
                    <option disabled="">——————</option>
                  <optgroup label="Japan">
                    <option value="92">Fukuoka</option>
                    <option value="79">Nagoya</option>
                    <option value="64">Osaka</option>
                    <option value="44">Tokyo</option>
                  </optgroup>
              </select>
            </div>
            <button class="gym-button col-md-2" id="view-jobs-button"><b>View Jobs</b></button>
          </div>

          <section class="job-board">
            <div class="text-center viewing-jobs-in">Viewing jobs in <var class="job-location"> <var id="find-jobs-market-name">Boston</var></var>…</div>

            <div class="job-list-container">
              <ul class="job-list" id="find-jobs-job-list">

              </ul>

              <div class="row">
                <a href="http://aquent.com/find-work/" class="text-center col-md-12 view-all-jobs">
                  View all jobs in <var class="job-location"> Boston</var>
                </a>
              </div>
            </div>

          </section>
        </form>
      </section>
    </div>
  </section>

  % if not user.is_authenticated():

  <section class="container-fluid subsection">
    <div class="container" id="join-gymnasium">

        <header class="header-tab text-center">
          <h1>Join Us</h1>
        </header>
        <section class="text-center">
          <em><a href="/register">Join Gymnasium Now</a></em>

          <div class="row">
            <p class="col-md-8 col-md-offset-2">Register to receive email updates about new and upcoming classes.</p>
          </div>

          <div class="row">
            <div class="col-md-4"></div>
            <a class="gym-button col-md-4 col-md-offset-4" href="/register">
              ${_("Sign up for an account")}
            </a>
          </div>

          <p>or <a href="/login">Sign in</a>
        </section>
    </div>
  </section>
  % endif


  <section class="container-fluid subsection" id="as-seen-in">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h2 class="text-center">As seen in:</h2>
        </div>

        <ul class="col-md-12 list-inline text-center">
          <li>
            <a href="http://www.fastcompany.com/3024661/innovation-agents/hacking-hack-schools-to-make-them-work" target="_blank">
              <img src="${static.url('themes/gymnasium/images/as-seen-in/fastco.png')}" alt="Aquent Gymnasium" class="img-responsive center-block" />
            </a>
          </li>
          <li>
            <a href="http://www.forbes.com/sites/sap/2015/02/23/hate-formal-career-training-go-guerrilla-on-it/" target="_blank">
              <img src="${static.url('themes/gymnasium/images/as-seen-in/forbes.png')}" alt="Aquent Gymnasium" class="img-responsive center-block" />
            </a>
          </li>
          <li>
            <a href="http://www.inc.com/issie-lapowsky/how-moocs-training-tomorrow-workforce.html" target="_blank">
              <img src="${static.url('themes/gymnasium/images/as-seen-in/inc.png')}" alt="Aquent Gymnasium" class="img-responsive  center-block" />
            </a>
          </li>
          <li>
            <a href="http://www.lemonde.fr/emploi/article/2014/06/30/les-firmes-americaines-recrutent-dans-les-mooc_4448062_1698637.html" target="_blank">
              <img src="${static.url('themes/gymnasium/images/as-seen-in/le-monde-fr.png')}" alt="Aquent Gymnasium" class="img-responsive center-block" />
            </a>
          </li>
          <li>
            <a href="http://www.foxbusiness.com/personal-finance/2014/03/07/training-workers-netflix-way-moocs-in-job-industry/" target="_blank">
              <img src="${static.url('themes/gymnasium/images/as-seen-in/fox-business.png')}" alt="Aquent Gymnasium" class="img-responsive center-block" />
            </a>
          </li>
        </ul>

      </div>
    </div>
  </section>
</section>

<section id="video-modal" class="modal home-page-video-modal video-modal">
  <div class="inner-wrapper">
    <%
      youtube_video_id = homepage_promo_video_youtube_id
      if self.stanford_theme_enabled():
        youtube_video_id = "2gmreZObCY4"
    %>
    <iframe width="640" height="360" src="//www.youtube.com/embed/${youtube_video_id}?showinfo=0" frameborder="0" allowfullscreen></iframe>
  </div>
</section>

<%block name="js_extra">
   <script type="text/javascript">
      $(window).load(function() {
         if(getParameterByName('next')) {
              $('#login').trigger("click");
         }

         Gymnasium.injectFBTrackingPixel();

         //load jobs into the jobs page
         Gymnasium.LoadJobsForMarket();

         $('#view-jobs-button').click(function(event){
           event.preventDefault();
           var market = $('#market').val();
           var market_label = $('#market option:selected').text();

           Gymnasium.LoadJobsForMarket(market);
           $('#find-jobs-market-name, .job-location').text(market_label);


         });
      })
   </script>


</%block>

% if show_signup_immediately is not UNDEFINED:
  ## NOTE: This won't work in production, because anonymous views are cached, so it will
  ## show either with or without this extra js for 3 minutes at a time.
<script type="text/javascript">
  $(window).load(function() {$('#signup_action').trigger("click");});
</script>
% endif
